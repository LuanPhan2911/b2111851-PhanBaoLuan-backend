import{C as r}from"./ContactForm-sqplty4r.js";import{_ as i,C as c,c as h,a as l,b as n,t as u,d as m,r as p,o as d}from"./index-BZBtUe-2.js";const _={components:{ContactForm:r},props:{id:{type:String,required:!0}},data(){return{contact:null,message:""}},methods:{async getContact(e){try{let t=await c.get(e);t&&(this.contact=t.data)}catch(t){console.log(t),this.$router.push({name:"notfound",params:{pathMatch:this.$route.path.split("/").slice(1)},query:this.$route.query,hash:this.$route.hash})}},async updateContact(e){try{let t=await c.update(this.contact._id,e);console.log(t),this.message="Liên hệ được cập nhật thành công."}catch(t){console.log(t)}},async deleteContact(){if(confirm("Bạn muốn xóa Liên hệ này?"))try{await c.delete(this.contact._id),this.$router.push({name:"contactbook"})}catch(e){console.log(e)}}},created(){this.getContact(this.id),this.message=""}},g={key:0,class:"page"},C=n("h4",null,"Hiệu chỉnh Liên hệ",-1);function y(e,t,f,S,o,a){const s=p("ContactForm");return o.contact?(d(),h("div",g,[C,l(s,{contact:o.contact,"onSubmit:contact":a.updateContact,"onDelete:contact":a.deleteContact},null,8,["contact","onSubmit:contact","onDelete:contact"]),n("p",null,u(o.message),1)])):m("",!0)}const x=i(_,[["render",y]]);export{x as default};
